# Context Manager Configuration
#
# Default configurations for all registered context managers.
# Each context manager type has its own params structure.
#
# Note: Knowledge retriever config is separate in knowledge_retriever.yaml
# This file only contains context manager-specific settings.

# Default context manager when none specified
default_context_manager: "kg_enriched"

# Context manager configurations
context_managers:
  # =========================================================================
  # Knowledge-Enriched Context Manager
  # =========================================================================
  kg_enriched:
    description: "Context manager that enriches context with knowledge retrieval"
    
    presets:
      # Default preset
      DEFAULT:
        params:
          max_experiment_history_count: 5
          max_recent_experiment_count: 5
      
      # Deep context - more history
      DEEP_CONTEXT:
        params:
          max_experiment_history_count: 10
          max_recent_experiment_count: 10
      
      # Minimal - for testing
      MINIMAL:
        params:
          max_experiment_history_count: 3
          max_recent_experiment_count: 3
    
    default_preset: "DEFAULT"

  # =========================================================================
  # Cognitive Context Manager
  # =========================================================================
  cognitive:
    description: "Cognitive memory context manager with optional workflow tracking"
    
    presets:
      # Legacy mode - original behavior (simple briefings, no workflow)
      LEGACY:
        params:
          mode: legacy
          episodic_store_path: ".memory_store.json"
      
      # Cognitive mode - full workflow tracking with KG exploitation
      # Use this for tasks that benefit from step-by-step workflows
      COGNITIVE:
        params:
          mode: cognitive
          episodic_store_path: ".memory_store.json"
          max_step_retries: 3
          consult_kg_on_error: true
          allow_workflow_pivot: true
      
      # Cognitive mode - strict (no workflow pivoting)
      COGNITIVE_STRICT:
        params:
          mode: cognitive
          episodic_store_path: ".memory_store.json"
          max_step_retries: 5
          consult_kg_on_error: true
          allow_workflow_pivot: false
    
    default_preset: "LEGACY"

  # =========================================================================
  # Basic Context Manager (No KG)
  # =========================================================================
  basic:
    description: "Simple context manager without KG retrieval"
    
    presets:
      # Default preset
      DEFAULT:
        params:
          max_experiment_history_count: 5
          max_recent_experiment_count: 5
      
      # Deep context - more history
      DEEP_CONTEXT:
        params:
          max_experiment_history_count: 10
          max_recent_experiment_count: 10
      
      # Minimal - for testing
      MINIMAL:
        params:
          max_experiment_history_count: 3
          max_recent_experiment_count: 3
    
    default_preset: "DEFAULT"

  # =========================================================================
  # Token Efficient Context Manager
  # =========================================================================
  token_efficient:
    description: "Token-efficient context manager for cost optimization"
    
    presets:
      DEFAULT:
        params:
          max_tokens: 8000
          truncation_strategy: "smart"
    
    default_preset: "DEFAULT"
